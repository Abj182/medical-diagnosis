<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Home • MedAssist</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="/static/styles.css" />
	<style>
		.layout { display:grid; grid-template-columns: 260px 1fr; height:100vh; }
		.sidebar { background:#0b1326; border-right:1px solid var(--border); padding:14px; overflow:auto; }
		.sidebar h3 { margin:4px 0 10px 0; font-size:14px; color:#c6d6ff; }
		.sidebar .item { padding:8px 10px; border-radius:8px; margin:6px 0; background:#0e1a34; border:1px solid #16264a; cursor:pointer; }
		.topbar { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--border); background:#0b1220; }
		.toggle { display:none; }
		@media (max-width: 900px) {
			.layout { grid-template-columns: 0 1fr; }
			.sidebar { position: fixed; left:0; top:0; bottom:0; width: 260px; transform: translateX(-100%); transition: transform .2s ease; z-index: 20; }
			.sidebar.open { transform: translateX(0); }
			.toggle { display:inline-flex; }
		}
		.welcome { text-align:center; margin: 26px 0; }
	</style>
</head>
<body>
	<div class="topbar">
		<button class="toggle" id="toggle">☰</button>
		<div class="logo">MedAssist</div>
		<div id="userLabel" class="small"></div>
	</div>
	<div class="layout">
		<aside class="sidebar" id="sidebar">
			<h3>Recent chats</h3>
			<div id="recents"></div>
			<div style="margin-top:12px; display:flex; gap:8px;">
				<button id="clear">Clear</button>
				<button id="logout" style="background:#e75c5c;border-color:#d14b4b; box-shadow:none;">Logout</button>
			</div>
		</aside>
		<main>
			<div class="welcome">
				<h2>Welcome to Medical Assistant</h2>
				<p class="small">Ask questions and I will answer using your medical textbooks.</p>
			</div>
			<div id="chat" class="container" style="height: calc(100vh - 140px); grid-template-rows: 1fr auto; max-width: 900px;">
				<main id="messages" style="background: rgba(14,22,38,0.8);"></main>
				<footer>
					<input id="query" placeholder="Ask a medical question..." />
					<button id="send">Send</button>
				</footer>
			</div>
		</main>
	</div>

	<div class="overlay" id="overlay" hidden>
		<h4>Gemini overlay summary</h4>
		<div class="content" id="overlay-content"></div>
		<div class="small">Context segments used to generate the answer.</div>
	</div>

	<script src="/static/home.js"></script>
</body>
</html>
